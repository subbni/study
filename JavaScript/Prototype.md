# Prototype

자바스크립트는 `프로토타입 기반`의 객체지향 프로그래밍 언어이다.

## 상속
자바스크립트에서는 프로토타입을 기반으로 상속을 구현하여 불필요한 중복을 제거한다.

한 생성자 함수가 생성하는 모든 객체는 같은 프로퍼티와 메서드를 갖는다.
메서드는 같은 역할을 함에도 불구하고, 모든 인스턴스마다 하나씩 생성되어 메모리를 차지한다.

이런 불필요한 메모리를 제거하기 위해 해당 생성자 함수의 `프로토타입`에 메서드를 추가한다.
이렇게 되면 **같은 생성자 함수를 사용하며 만들어진 인스턴스들은 프로토타입에 추가된 메서드를 공동으로 사용한다.**

# 프로토타입 객체 
프로토타입 객체(=프로토타입)은 객체지향 프로그래밍의 중요한 컨셉인 '객체 간 상속'을 구현하기 위해 사용한다.

프로토타입을 상속받은 자식 객체는 부모 객체의 프로퍼티를 자신의 프로퍼티처럼 자유롭게 사용할 수 있다.

## [[Prototype]] 내부 슬롯
모든 객체는 `[[Prototype]]`이라는 내부 슬롯을 가지며, 이 내부 슬롯의 값은 프로토타입의 참조(null인 경우도 존재)이다.

**[[Prototype]]에 저장되는 프로토타입은 객체의 생성 방식에 의해 결정된다.**
> ex) 객체 리터럴에 의해 생성된 객체의 프로토타입은 Object.prototype이고 생성자 함수에 의해 생성된 객체의 프로토타입은 생성자 함수의 prototype에 바인딩되어 있는 객체이다.

모든 객체는 하나의 프로토타입을 갖는다. 그리고 모든 프로토타입은 생성자 함수와 연결되어 있다.
즉 객체와 프로토타입, 생성자 함수는 서로 연결되어 있다.

 
## \_\_proto\_\_ 접근자 프로퍼티
모든 객체는 `__proto__` 접근자 프로퍼티를 통해 자신의 프로토타입, 즉 `[[Prototype]]` 내부 슬롯에 간접적으로 접근할 수 있다.

- `__proto__`는 객체가 직접 소유하는 프로퍼티가 아니라, Object.prototype 으로부터 상속 받은 프로퍼티이다.
> 모든 객체는 프로토타입 체인에 묶여 있으며 프로포타입의 종점, 즉 최상위 객체는 Object.prototype이다.
> 모든 객체는 이 객체의 프로퍼티와 메서드를 상속받는다.
```js
const person = { name: 'Oh' };
console.log(person.hasOwnProperty('__proto__'); // false
```

## 함수 객체 - prototype 프로퍼티
일반 객체와 달리 함수 객체는 prototype 프로퍼티를 소유한다.
```js
(function() {}).hasOwnProperty('prototype'); // true

({}).hasOwnProperty('prototype'); // false
```
이 prototype 프로퍼티는 생성자 함수가 생성할 객체 인스턴스의 프로토타입을 가리킨다.

모든 객체가 가진 `__proto__` 접근자 프로퍼티와 함수 객체만이 가진 `prototype` 프로퍼티는 결국 동일한 프로토타입을 가리킨다.

---

# 프로토타입
## constructor 프로퍼티
모든 프로토타입은 `constructor` 프로퍼티를 가지는데, 이는 `prototype` 프로퍼티로 자신을 참조하고 있는 생성자 함수 객체를 가리킨다.

```js
function Person(name) {
 this.name = name;
}

Person p1 = new Person('Ha');

// p1에는 constructor 프로퍼티가 없지만 프로토타입인 Person.prototype에 constructor 프로퍼티가 있다.
console.log(p1.constructor === Person); // true
```

이 연결은 생성자 함수가 생성될 때, 즉 함수 객체가 생성될 때 이루어진다.
따라서 생성자 함수로서 호출할 수 없는 함수, non-structor인 화살표 함수와 ES6 메서드 축약 표현으로 정의한 메서드는
prototype 프로퍼티를 소유하지 않으며 프로토타입도 생성하지 않는다.

## 프로토타입 생성 시점
