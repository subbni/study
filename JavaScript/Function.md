# 함수

## 함수는 일급 객체이다.
 일급 객체의 조건
> 1. 무명의 리터럴로 생성할 수 있다. (런타임에 생성이 가능하다.)
> 2. 변수나 자료구조에 저장할 수 있다.
> 3. 함수의 매개변수에 전달할 수 있다.
> 4. 함수의 반환값으로 사용할 수 있다.

함수는 위의 모든 조건을 만족하여, 일급 객체에 해당한다.

## 함수 리터럴

자바스크립트의 함수는 객체 타입의 `값`이다. 
숫자 값을 숫자 리터럴으로 생성할 수 있는 것처럼, 함수 역시 함수 리터럴로 생성할 수 있다.

```javascript
var f = function add(x,y) { // 기명 함수 리터럴
 return x+y;
}

var decrease = function (x,y) { // 익명 함수 리터럴
 return x-y;
}
```

함수 리터럴의 함수 이름은 함수 몸체 내에서만 참조할 수 있는 식별자이다.
- 따라서 함수 외부에서는 해당 식별자를 사용할 수 없다.
```js
var f = function add(x,y) { // 기명 함수 리터럴
 return x+y;
}

add(1,3) // ReferenceError : add is not defined.
f(1,3) // 4
```
- 함수 리터럴의 함수 이름은 생략할 수 있다. 이름이 있는 함수를 기명 함수, 없는 함수는 무명/익명 함수라고 한다.

---

## 함수 정의

함수를 정의하는 방법에는 4가지가 있다.

### 1.함수 선언문
```javascript
function add(x,y) { // 함수 선언문
 return x+y;
}
```
함수 리터럴과 형태가 동일하지만 함수 선언문의 경우에는 함수 이름을 생략할 수 없다는 차이점이 있다.

### 2. 함수 표현식
```js
var add = function(x,y) { // 함수 표현식
 return x+y;
}
```
함수 리터럴을 생성하여 식별자에 생성된 함수 리터럴을 할당한다.

### 3.Function 생성자 함수
JS가 기본 제공하는 빌트인 함수인 Function 생성자 함수를 통해 함수 객체를 반환받는 방법이다.
```js
var add = new Function('x','y','return x+y'); 
```
이 방법으로 함수를 생성하는 것은 일반적이지도 않거니와 바람직하지도 않다.
Function 생성자 함수를 통해 생성된 함수는 앞서 본 함수 선언문이나 함수 표현식을 통해 생성된 함수와는 다르게 동작하는 부분들이 있어 주의하여야 한다. (Ex. 클로저)

### 4.화살표 함수
ES6에서 도입된 화살표 `=>`를 사용하여 간략하게 함수를 선언하는 방식으로, 언제나 익명 함수로 정의한다.
```js
const add = (x,y) => x+y;
add(2,5); // 7
```
화살표 함수는 기존의 함수에서 내부 동작 또한 간략화 되어 동작한다.
- 기존 함수와 this 바인딩 방식이 상이하다.
- prototype 프로퍼티가 존재하지 않는다.
- arguments 객체를 생성하지 않는다.

---

## 함수 생성 시점, 함수 호이스팅

함수를 정의한 방식에 따라 함수의 생성 시점이 달라진다.

1. 함수 선언문으로 정의한 함수는 런타임 이전에 자바스크립트 엔진에 의해 먼저 실행된다. => `함수 호이스팅`
2. 함수 표현식으로 정의한 함수는 런타임에 평가된다.

```js
console.dir(add); // add(x,y)
console.dir(sub); // undefined

console.log(add(2,2)) // 4
console.log(sub(2,2)) // TypeError : sub is not a function

function add(x,y) { // 함수 선언문으로 정의
 return x+y;
}

var sub = function(x,y) { // 함수 표현식으로 정의
 return x-y;
}
```

함수 선언문으로 정의된 함수는 런타임 이전에 먼저 함수 선언문이 실행되어 함수 객체가 생성된다.
따라서 함수 선언문 이전 코드에서도 `add(2,2)`를 정상적으로 사용할 수 있다.

함수 표현식으로 정의한 함수는 런타임에 평가되어 함수 객체를 생성한다.
따라서 `sub`는 자바스크립트의 변수 호이스팅으로 인해 `undefined`로 초기화 되어 있을 뿐, 함수 객체를 가르키고 있지 않다.
따라서 `sub(2,2)`시 `undefined`를 호출하려고 한 것이 되므로, `TypeError`가 발생한다.


